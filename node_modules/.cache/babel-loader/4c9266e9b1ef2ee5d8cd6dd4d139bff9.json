{"ast":null,"code":"var _jsxFileName = \"/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trybewallet/src/pages/Login.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchCurrenciesAll, saveLogin } from '../redux/actions/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MIN_LENGTH = 6;\n\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      email: '',\n      password: '',\n      disabled: true\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        dispatch,\n        history\n      } = this.props;\n      const {\n        email\n      } = this.state;\n      dispatch(saveLogin(email));\n      dispatch(fetchCurrenciesAll('login'));\n      history.push('/carteira');\n    };\n\n    this.validationButton = () => {\n      const {\n        email,\n        password\n      } = this.state;\n      const validator = /[^@]+@[^@]+\\.[^@]+/gi.test(email); // => font: { https://stackoverflow.com/questions/27916055/whats-the-meaning-of-gi-in-a-regex }\n\n      const validEmailLength = email.length > 0 && password.length >= MIN_LENGTH && validator;\n\n      if (validEmailLength) {\n        this.setState({\n          disabled: false\n        });\n      } else {\n        this.setState({\n          disabled: true\n        });\n      }\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target: {\n          name,\n          value\n        }\n      } = _ref;\n      this.setState({\n        [name]: value\n      }, this.validationButton);\n    };\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      disabled\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Insira seu Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Email\",\n          \"data-testid\": \"email-input\",\n          name: \"email\",\n          value: email,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Senha\",\n          \"data-testid\": \"password-input\",\n          name: \"password\",\n          value: password,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: disabled,\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nLogin.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired\n};\nexport default connect()(Login);","map":{"version":3,"names":["React","Component","PropTypes","connect","fetchCurrenciesAll","saveLogin","MIN_LENGTH","Login","state","email","password","disabled","handleSubmit","event","preventDefault","dispatch","history","props","push","validationButton","validator","test","validEmailLength","length","setState","handleChange","target","name","value","render","propTypes","func","isRequired","shape"],"sources":["/home/coelho/Projetos-Trybe/Projetos-Turma23A/sd-023-a-project-trybewallet/src/pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchCurrenciesAll, saveLogin } from '../redux/actions/index';\n\nconst MIN_LENGTH = 6;\n\nclass Login extends Component {\n  state = {\n    email: '',\n    password: '',\n    disabled: true,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { dispatch, history } = this.props;\n    const { email } = this.state;\n\n    dispatch(saveLogin(email));\n    dispatch(fetchCurrenciesAll('login'));\n    history.push('/carteira');\n  };\n\n  validationButton = () => {\n    const { email, password } = this.state;\n    const validator = /[^@]+@[^@]+\\.[^@]+/gi.test(email); // => font: { https://stackoverflow.com/questions/27916055/whats-the-meaning-of-gi-in-a-regex }\n    const validEmailLength = email\n      .length > 0 && password.length >= MIN_LENGTH && validator;\n    if (validEmailLength) {\n      this.setState({ disabled: false });\n    } else {\n      this.setState({ disabled: true });\n    }\n  };\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState({\n      [name]: value,\n    }, this.validationButton);\n  };\n\n  render() {\n    const { email, password, disabled } = this.state;\n\n    return (\n      <section>\n        <h1>Insira seu Login</h1>\n        <form onSubmit={ this.handleSubmit }>\n          <input\n            type=\"text\"\n            placeholder=\"Email\"\n            data-testid=\"email-input\"\n            name=\"email\"\n            value={ email }\n            onChange={ this.handleChange }\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Senha\"\n            data-testid=\"password-input\"\n            name=\"password\"\n            value={ password }\n            onChange={ this.handleChange }\n          />\n          <button\n            type=\"submit\"\n            disabled={ disabled }\n          >\n            Entrar\n          </button>\n        </form>\n      </section>\n    );\n  }\n}\n\nLogin.propTypes = {\n  dispatch: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func,\n  }).isRequired,\n};\n\nexport default connect()(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}